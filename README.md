# unclogging

[![CircleCI](https://circleci.com/gh/AlexanderMann/unclogging.svg?style=svg)](https://circleci.com/gh/AlexanderMann/unclogging)

_A repo designed to help you unclog your Clojure logging woes_

Logging in Clojure can get to be fun when you're messing around with someone else's libraries...especially when those are Java. Things like Java Util Logging, SLF4J, Netty, etc., log out in various ways that you might not realize.

## Usage
### Pipe all logs to Timbre
```clj
(require 'alexandermann.unclogging)
(alexandermann.unclogging/merge-config! {:level :info})
```

Done. All logs generated by some 3rd party (probably Java) library will be piped through [Timbre](). To learn how you can better use Timbre, and all the cool stuff it can do, head over there.

### Send logs to logstash
```clj
(alexandermann.unclogging/merge-config!
  {:level :info
   :logstash {:host "localhost" :port 5044})
```

That's it. If you happen to try and pass off a host and port which doesn't resolve, we'll let you know via Clojure Spec.

### I'm a developer, and I like to log my passwords
Yeah, you probably shouldn't do that...or be a jerk and let your colleagues accidentally do that...

```clj
(alexandermann.unclogging/merge-config!
  (alexandermann.unclogging/prevent-hazard
    {:level :info}
    (fn [v] (and (string? v)
                 (= "super secret"))))
```
